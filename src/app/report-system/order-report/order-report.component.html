<div class="wrapper">
    <div class="main-panel">
        <!-- BEGIN : Main Content-->
        <div class="main-content">
            <div class="content-overlay"></div>
            <div class="content-wrapper">
                <section class="users-view">
                    <div class="row align-items-center mb-3">
                        <!-- Report Info -->
                        <div class="col-12 col-sm-8">
                            <h3 class="fw-bold">Orders Report</h3>
                            <p class="text-muted mb-0">
                                {{ reportData?.month }}/{{ reportData?.year }}
                            </p>
                        </div>


                    </div>

                    <!-- Report Totals -->
                    <div class="row mb-3">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-body d-flex justify-content-between align-items-center flex-wrap">
                                    <!-- Left side (totals stacked together) -->
                                    <div class="d-flex flex-wrap gap-4">
                                        <div>
                                            <h6 class="text-muted mb-1">Total Sales</h6>
                                            <h4 class="fw-bold text-primary">
                                                {{ currencySymbol }} {{ reportData?.totals?.total_sale | number: '1.2-2'
                                                }}
                                            </h4>
                                        </div>
                                        <div>
                                            <h6 class="text-muted mb-1">Total Tax</h6>
                                            <h4 class="fw-bold text-info">
                                                {{ currencySymbol }} {{ reportData?.totals?.total_tax | number: '1.2-2'
                                                }}
                                            </h4>
                                        </div>
                                        <div>
                                            <h6 class="text-muted mb-1">Total Discount</h6>
                                            <h4 class="fw-bold text-danger">
                                                {{ currencySymbol }} {{ reportData?.totals?.total_discount | number:
                                                '1.2-2' }}
                                            </h4>
                                        </div>
                                        <div>
                                            <h6 class="text-muted mb-1">Tips</h6>
                                            <h4 class="fw-bold text-success">
                                                {{ currencySymbol }} {{ reportData?.totals?.tips | number:
                                                '1.2-2' }}
                                            </h4>
                                        </div>
                                        <div>
                                            <h6 class="text-muted mb-1">Grand Total</h6>
                                            <h4 class="fw-bold text-success">
                                                {{ currencySymbol }} {{ reportData?.totals?.grand_total | number:
                                                '1.2-2' }}
                                            </h4>
                                        </div>
                                    </div>

                                    <!-- Right side (button only) -->
                                    <div>
                                        <button class="btn btn-success" (click)="exportToExcel()">
                                            <i class="ti ti-download me-1"></i> Export as Excel
                                        </button>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>


                    <!-- Orders Table -->
                    <div class="row">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-content">
                                    <div class="card-body">
                                        <div class="table-responsive">
                                            <table class="table table-bordered mb-0">
                                                <thead>
                                                    <tr>
                                                        <th class="fw-bold">Order #</th>
                                                        <th class="fw-bold">Time</th>
                                                        <th class="fw-bold">Type</th>
                                                        <th class="fw-bold">Status</th>
                                                        <th class="fw-bold text-end">Amount</th>
                                                        <th class="fw-bold text-end">Tax</th>
                                                        <th class="fw-bold text-end">Discount</th>
                                                        <th class="fw-bold text-end">Tips</th>
                                                        <th class="fw-bold text-end">Total</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let order of reportData?.orders">
                                                        <td>{{ order.order_no }}</td>
                                                        <td>{{ order.time | date: 'short' }}</td>
                                                        <td>{{ order.type || 'N/A' }}</td>
                                                        <td>
                                                            <span class="badge fw-bold" [ngClass]="{
                                'badge-pending': order?.status === 'Pending',
                                'badge-confirmed': order?.status === 'Confirmed',
                                'badge-preparing': order?.status === 'Preparing',
                                'badge-ready-for-pickup': order?.status === 'Ready For Pickup',
                                'badge-out-for-delivery': order?.status === 'Out For Delivery',
                                'badge-delivered': order?.status === 'Delivered',
                                'badge-completed': order?.status === 'Completed',
                                'badge-cancelled': order?.status === 'Cancelled'
                              }">
                                                                {{ order.status }}
                                                            </span>
                                                        </td>
                                                        <td class="text-end">
                                                            {{ currencySymbol }} {{ order.amount | number: '1.2-2' }}
                                                        </td>
                                                        <td class="text-end">
                                                            {{ currencySymbol }} {{ order.tax | number: '1.2-2' }}
                                                        </td>
                                                        <td class="text-end">
                                                            {{ currencySymbol }} {{ order.discount | number: '1.2-2' }}
                                                        </td>
                                                        <td class="text-end">
                                                            {{ currencySymbol }} {{ order.tips | number: '1.2-2' }}
                                                        </td>
                                                        <td class="text-end fw-bold">
                                                            {{ currencySymbol }} {{ order.total | number: '1.2-2' }}
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </div>
    </div>
</div>