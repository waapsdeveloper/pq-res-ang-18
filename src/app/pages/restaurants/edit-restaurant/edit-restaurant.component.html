<app-kt-app-form-page [title]="'Edit Branch'">
  <!-- Media object starts -->
  <div class="row">
    <div class="col-12 col-sm-7">
      <div class="media d-flex align-items-center">
        <a href="javascript:;">
          <img [src]="model?.src_img" alt="user view avatar" class="users-avatar-shadow rounded" height="64" width="64" />
        </a>
        <div class="media-body ml-3">
          <h4>
            <span class="users-view-name">{{ model.name }}</span>
          </h4>
          <span>ID:</span>
          <span class="users-view-id">{{ id }}</span>
        </div>
      </div>
    </div>
  </div>
  <!-- Media object ends -->
  <div class="edit-layout">
    <div class="row">
      <!-- Sidebar (Left) -->
      <div class="col-12 col-md-3 border-end pe-0">
        <nav class="sidebar h-100">
          <ul class="nav flex-column py-4 ps-2">
            <li
              class="nav-item mb-2 py-2 border-bottom"
              [class.fw-bold]="activeSection === 'general'"
              [class.text-primary]="activeSection === 'general'"
              [class.active]="activeSection === 'general'"
              (click)="activeSection = 'general'"
              style="cursor: pointer; font-size: 1.1rem"
            >
              General
            </li>
            <li
              class="nav-item mb-2 py-2 border-bottom"
              [class.fw-bold]="activeSection === 'timing'"
              [class.text-primary]="activeSection === 'timing'"
              [class.active]="activeSection === 'timing'"
              (click)="activeSection = 'timing'"
              style="cursor: pointer; font-size: 1.1rem"
            >
              Timing
            </li>
            <li
              class="nav-item mb-2 py-2 border-bottom"
              [class.fw-bold]="activeSection === 'order'"
              [class.text-primary]="activeSection === 'order'"
              [class.active]="activeSection === 'order'"
              (click)="activeSection = 'order'"
              style="cursor: pointer; font-size: 1.1rem"
            >
              Order
            </li>
          </ul>
        </nav>
      </div>

      <!-- Content (Right) -->
      <div class="col-12 col-md-9 ps-md-4 pt-4 pt-md-0">
        <div class="card">
          <div class="card-content">
            <div class="card-body">
              <form [formGroup]="form">
                <ng-container [ngSwitch]="activeSection">
                  <ng-template [ngSwitchCase]="'general'">
                    <formly-form [form]="form" [fields]="generalFields" [model]="model"></formly-form>
                    <div class="d-flex justify-content-end mt-3">
                      <button type="button" class="btn btn-warning btn-123" (click)="submitGeneral()">Update General Info</button>
                    </div>
                  </ng-template>
                  <ng-template [ngSwitchCase]="'timing'">
                    <formly-form [form]="form" [fields]="timingFields" [model]="model"></formly-form>
                    <div class="d-flex justify-content-end mt-3">
                      <button type="button" class="btn btn-warning btn-123" (click)="submitTiming()">Update Timing</button>
                    </div>
                  </ng-template>
                  <ng-template [ngSwitchCase]="'order'">
                    <formly-form [form]="form" [fields]="orderFields" [model]="model"></formly-form>
                    <div class="d-flex justify-content-end mt-3">
                      <button type="button" class="btn btn-warning btn-123" (click)="submitOrder()">Update Branch Config</button>
                    </div>
                  </ng-template>
                </ng-container>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</app-kt-app-form-page>
