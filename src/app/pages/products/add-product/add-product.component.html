<app-kt-app-form-page [title]="'Add Products'">
  <!-- Existing Formly Form -->
  <form [formGroup]="form" (ngSubmit)="onSubmit(model)">
    <formly-form [form]="form" [fields]="fields" [model]="model"></formly-form>
    <button type="submit" class="btn btn-secondary mt-4">Submit</button>
  </form>

  <!-- Product Variations Section -->
  <div *ngFor="let variation of variations; let i = index" class="variation mb-3">
    <!-- Variation Type Input -->
    <div class="d-flex align-items-center gap-2 mb-2">

      <input
        type="text"
        [(ngModel)]="variation.type"
        placeholder="Variation Type (e.g., Size, Toppings)"
        class="form-control"
      />
      <input
        type="text"
        placeholder="Option Name (e.g., Small)"
        class="form-control"
      />
      <input
        type="number"
        placeholder="Additional Price (e.g., 5)"
        class="form-control"
      />
    </div>

    <!-- Buttons (Next Line) -->
    <div class="d-flex gap-2">
      <button type="button" (click)="addOption(i)" class="btn btn-primary btn-sm">
        Add Option
      </button>
      <button type="button"  class="btn btn-danger btn-sm">
        Remove Option
      </button>
    </div>

    <hr />
  </div>

  <!-- Add Variation Button -->
  <button type="button" (click)="addVariation()" class="btn btn-secondary btn-123">
    Add Variation
  </button>

</app-kt-app-form-page>
