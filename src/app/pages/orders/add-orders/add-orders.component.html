<div class="my-3">

  <div class="row">
    <div class="col-md-8 col-12 mb-3">
      <div class="d-flex flex-wrap justify-content-start align-items-center gap-3">
        <h3 class="mb-0">Add Orders</h3>
        <app-add-order-categories></app-add-order-categories>
      </div>
    </div>
    <div class="col-md-4 col-12 mb-3">
      <div class="d-flex flex-row justify-content-end align-items-center gap-3">
        <div class="form-group mb-0">
          <input type="text" class="form-control" id="add-order-search-product" name="add-order-search-product">
        </div>
        <button class="btn" style="background-color: #E7E9EC;">
          <i class="ft-search"></i>
          <span>Search</span>
        </button>
      </div>
    </div>

  </div>

  <div class="row">
    <div class="col-md-8 col-12 mb-3">
      <app-add-order-products></app-add-order-products>
    </div>
    <div class="col-md-4 col-12 mb-3">
      <!-- place order elements -->
      <div class="order-sidebar  h-100">
        <!--begin::Chart widget 8-->
        <div class="card card-flush h-xl-100">
          <!--begin::Header-->
          
            <!-- Header Section -->
            <div class="card-header">
              <div class="d-flex flex-wrap justify-content-between align-items-center gap-2">
                <div class="flex-grow-1">
                  <h3 class="card-label fw-bold text-dark mb-1">Order Overview</h3>
                  <span class="text-muted fs-7">Take a look at bill details</span>
                </div>
                <div class="d-flex align-items-center gap-2">
                  <div class="d-flex align-items-baseline">
                    <span class="fs-5 text-muted">$</span>
                    <span class="fs-3 fw-bold text-dark">{{ orderService.totalCost | number: '1.2-2' }}</span>
                  </div>
                  <button 
                    *ngIf="orderService.selected_products?.length > 0" 
                    (click)="onSubmit($event)" 
                    class="btn btn-primary btn-sm"
                  >
                    Place Order
                  </button>
                </div>
              </div>
            </div>
          
            <!-- Coupon & Pricing Section -->
            <div class="card-body border-top py-4">
              <div class="row g-3">
                <!-- Coupon Input -->
                <div class="col-12">
                  <div class="d-flex gap-2">
                    <input
                      type="text"
                      [(ngModel)]="orderService.couponCode"
                      class="form-control form-control-sm"
                      placeholder="Enter Coupon"
                    />
                    <button class="btn btn-secondary btn-sm" (click)="orderService.applyCoupon()">
                      Apply
                    </button>
                  </div>
                </div>
          
                <!-- Pricing Info -->
                <div class="col-12">
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="badge bg-info">
                      Discount: ${{ orderService.discountAmount | number: '1.2-2' }}
                    </div>
                    <div class="d-flex align-items-baseline gap-1">
                      <span class="fs-5 text-muted">$</span>
                      <span class="fs-4 fw-bold text-dark">
                        {{ orderService.final_total | number: '1.2-2' }}
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          
            <!-- Form Fields -->
            <div class="card-body pt-0">
              <div class="row g-3">
                <div class="col-12">
                  <textarea
                    [(ngModel)]="orderService.order_notes"
                    class="form-control sqaure form-control-sm"
                    rows="3"
                    placeholder="Add a note..."
                  ></textarea>
                </div>
          
                <div class="col-12">
                  <input
                    type="text"
                    class="form-control  sqaure form-control-sm"
                    [(ngModel)]="orderService.customer_name"
                    placeholder="Customer Name"
                    (input)="onInputChange(orderService.customer_name)"
                  />
                </div>
          
                <div class="col-12">
                  <input
                    type="text"
                    class="form-control sqaure form-control-sm"
                    [(ngModel)]="orderService.customer_phone"
                    placeholder="Customer Phone"
                    (input)="onInputChangePhone(orderService.customer_phone)"
                  />
                </div>
          
                <div class="col-12">
                  <select
                    class="form-select form-select-sm"
                    [(ngModel)]="orderService.orderType"
                    (change)="onTypeChange($event)"
                  >
                    <!-- options remain same -->
                  </select>
                </div>
          
                <div class="col-12">
                  <select
                    class="form-select form-select-sm"
                    [(ngModel)]="orderService.paymentMethod"
                  >
                    <!-- options remain same -->
                  </select>
                </div>
              </div>
            </div>
          
            <!-- Chips Section -->
            <div class="card-body pt-0">
              <div class="d-flex flex-wrap gap-2">
                <!-- Walk-in Customer Chip -->
                <div 
                  class="badge bg-light text-dark d-flex align-items-center p-2"
                  (click)="makeWalkingCustomer()"
                >
                  <div class="d-flex flex-column">
                    <span class="fw-bold fs-7">Walk-in Customer</span>
                    <span class="text-muted fs-8">0000000000000</span>
                  </div>
                </div>
          
                <!-- Customer Chips -->
                <div 
                  *ngFor="let item of filteredSuggestions"
                  class="badge bg-light text-dark d-flex align-items-center p-2"
                  (click)="orderService.selectSuggestion(item)"
                >
                  <div class="d-flex flex-column">
                    <span class="fw-bold fs-7">{{ item.name }}</span>
                    <span class="text-muted fs-8">{{ item.phone }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
    
              <app-add-order-price-list></app-add-order-price-list>
    
              <!--end::Statistics-->
            </div>
            <!--end::Tab pane-->
          </div>
          <!--end::Tab content-->
        </div>
        <!--end::Body-->
      </div>
       



